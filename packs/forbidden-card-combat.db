{"name":"Initiate Card Combat","permission":{"default":0,"EQgQbM09S0JeBm1y":3},"type":"script","flags":{"core":{"sourceId":"Macro.uReWFwuEwb9JpldY"}},"scope":"global","command":"let userList = \"\";\ngame.users.entities.forEach((u)=>{\nif(u.active && !u.isGM){\nuserList += `<option value='${u._id}'>${u.name}</option>`;\n}\n});\n\nlet d = new Dialog({\n  title: 'Initiate Card Combat',\n  content: `\n    <form class=\"flexcol\">      \n      <div class=\"form-group\">\n        <label for=\"userSelect\">Initiate Combat With:</label>\n        <select name=\"userSelect\"> ${userList}</select>\n      </div>      \n    </form>\n  `,\n  buttons: {\n    no: {\n      icon: '<i class=\"fas fa-times\"></i>',\n      label: 'Cancel'\n    },\n    yes: {\n      icon: '<i class=\"fas fa-check\"></i>',\n      label: 'Yes',\n      callback: (html) => {\n        let selectedUser = html.find('[name=\"userSelect\"]').val();        \nCardCombat._instance.initiateCombat(selectedUser );\n      }\n    },\n  },\n  default: 'yes',\n  close: () => {}\n}).render(true);","author":"EQgQbM09S0JeBm1y","img":"icons/svg/dice-target.svg","actorIds":[],"_id":"2lohNw4XVKcNZpWp"}
